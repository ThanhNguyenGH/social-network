<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white p-8 rounded shadow-md w-full max-w-md">
    <h1 class="text-2xl font-bold mb-4">Đăng nhập</h1>
    <% if (successMessage) { %>
      <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
        <%= successMessage %>
      </div>
      <% } %>

        <% if (errors && errors.length) { %>
          <div class="bg-red-100 text-red-700 p-2 mb-4 rounded">
            <% errors.forEach(error=> { %>
              <p>
                <%= error.msg %>
              </p>
              <% }) %>
          </div>
          <% } %>

            <form action="/auth/login" method="POST" class="space-y-4">
              <input type="hidden" name="_csrf" value="<%= csrfToken %>">
              <div>
                <label for="email" class="block">Email</label>
                <input type="email" name="email" id="email" class="w-full p-2 border rounded" required
                  value="<%= typeof email !== 'undefined' ? email : '' %>">

              </div>
              <div>
                <label for="password" class="block">Mật khẩu</label>
                <input type="password" name="password" id="password" class="w-full p-2 border rounded" required>
              </div>
              <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded w-full">Đăng nhập</button>
            </form>

            <a href="/auth/google"
              class="flex items-center justify-center gap-2 mt-4 text-blue-500 border border-blue-500 px-4 py-2 rounded hover:bg-blue-50 w-max mx-auto">
              <svg class="w-5 h-5" viewBox="0 0 533.5 544.3" xmlns="http://www.w3.org/2000/svg">
                <path fill="#4285F4"
                  d="M533.5 278.4c0-17.4-1.4-34-4-50.2H272v95h146.9c-6.3 33.8-25.4 62.4-54.3 81.6v67h87.7c51.2-47.1 81.2-116.5 81.2-193.4z" />
                <path fill="#34A853"
                  d="M272 544.3c73.5 0 135.2-24.4 180.2-66.3l-87.7-67c-24.4 16.4-55.7 26-92.5 26-71.2 0-131.6-48-153.2-112.5h-90v70.9c44.8 89.4 137 148.9 243.2 148.9z" />
                <path fill="#FBBC05"
                  d="M118.8 324.5C112 307.8 108 289.5 108 270.3s4-37.5 10.8-54.2v-70.9h-90C10.1 192 0 229.2 0 270.3s10.1 78.3 28.8 110.6l90-70.9z" />
                <path fill="#EA4335"
                  d="M272 108.6c39.9 0 75.6 13.7 103.7 40.8l77.6-77.6C407.1 25.6 345.5 0 272 0 165.8 0 73.6 59.5 28.8 148.9l90 70.9C140.4 156.6 200.8 108.6 272 108.6z" />
              </svg>
              <span>Đăng nhập bằng Google</span>
            </a>


            <p class="text-center mt-4 text-sm">
              Chưa có tài khoản?
              <a href="/auth/register" class="text-blue-500 hover:underline">Đăng ký ngay</a>
            </p>
  </div>
</body>

</html>